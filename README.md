# Effective-mobile-case
Тестовое задание от компании Effective Mobile
В тз не указано какой стек нужно использовать, так что написал на fastaopi, sqlalchemy + alembic

## Установка

### Первый этап

Клонирование репозитория и .env файла
```
git clone git@github.com:SeraphKAA/Effective-mobile-case.git
cd Effective-mobile-case
cp .env.example .env
```

По желанию можете дополнительно настроить .env файл.

### Второй этап (запуск)

Запустить можно либо через команду makefile либо следующим образом
```
docker compose up --build
```

## Использование

Сайт доступен по протоколу HTTP. 
Swagger сервера доступен по порту 8000 на эндпоинте /api/docs.
Redoc сервера доступен по порту 8000 на эндпоинте /api/redoc.

## Дополнительно

Команды Makefile:
- Cтарт проекта
```
make start
```

- Билд проекта
```
make build
```

- Удаление контроллеров и зависимостей
```
make down
```

О самом коде:
МОжно было сделать намного лучше, например, у ручки на изменение полей мжно было не рассписывать в одной функции все проверки и тп относительно каждого поля,
а разделить все по меньшим функциям, функционал которых уже встречался до этого (например, при создании пользователя).

Также есть эндпоинты длля куки, так как через них можно было сделать эндпоинты, но сделал без них.

Для проверки некоторых эндпоинтов были созданы пользователи всех возможных ролей

## Результат

Возможно добавлю если не забуду фотки из сваггера и мейби добавлю еще тесты если нужны будут

Пользователь имеет следующее:
- Логин (уникальный)
- Никнейм (уникальный)
- Закрепленная почта (для уведомлений или двухфакторки) и поле указывающее на подтверждение почты
- Дополнительная информация (если будет какая-то карточка пользователя где он хочет что-то о себе написать)
- Роль
- Активен ли пользователь (админ, например, запретил вход)
- Даты создания и изменений полей пользователя (для каких-нибудь проверок)


Тривиальное, по типу, пароля (хранится в бд захешированный пароль) и id тоже имеется, но не указываю.


Все существующие эндпоинты:
![ImageAlt](https://github.com/SeraphKAA/Effective-mobile-case/blob/main/photoes/all_endpoints.png)

Результат получения информации про всех пользователей:
![ImageAlt](https://github.com/SeraphKAA/Effective-mobile-case/blob/main/photoes/result_1.png)

Результат создания пользователя:
![ImageAlt](https://github.com/SeraphKAA/Effective-mobile-case/blob/main/photoes/result_2.png)

Результат удаления пользователя:
![ImageAlt](https://github.com/SeraphKAA/Effective-mobile-case/blob/main/photoes/result_3.png)

Результат получения данных аутентифицированного пользователя:
![ImageAlt](https://github.com/SeraphKAA/Effective-mobile-case/blob/main/photoes/result_7.png)

Другие эндпоинты я не показываю, там особо ничего такого, просто изменение полей